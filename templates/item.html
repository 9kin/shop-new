{% extends "base.html" %}


{% block content %}

<main>

    {% import "message.html" as  message %}{{ message.main() }}

    <link rel="stylesheet" href="/static/styles/item.css">
    <script src="/static/scripts/item.js"></script>

    {% set path = data['path'] %}
    {% set keys = data['items'].keys()|list %}
    {% set data = data['items'] %}

    <div class="path">
    {% for item in path %}
        {% if loop.first %}
        {% else %}
            <span>></span>
        {% endif %}
        {% if loop.last %}
            <span>{{ item }}</span>
        {% else %}
            <a href="#">{{ item }}</a>
        {% endif %}
    {% endfor %}
    </div>


    

    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        {{ form.sort(class="form-control form-control-sm") }}

        <p>{{ form.submit(type="submit", class="btn btn-primary") }}</p>
    </form>
    

    <div class="container">
    {% for line in range(0, data|length, 4) %}
        <!--<div class="card-deck">-->
        {% for item in range(4) %}
            {% if line + item < data|length %}
                <div class="card">
                    <img class="card-img-top" src="{{ url_for('static',  filename= 'img/' +data[keys[line + item]]['img']) }}" alt="Card image cap">
                    <div class="card-body">
                        <i class="fas fa-faucet"></i>
                            <h5 class="card-title">{{ keys[line + item] }}</h5>
                            <p class="card-text">{{ data[keys[line + item]]['cost'] }} Осталось {{ data[keys[line + item]]['count'] }}</p>
                            <div class="text-center">
                                <a href="#" class="btn"></a>
                            </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
        <!--</div>-->
    {% endfor %}
    </div>

</main>

{% endblock %}